(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{58:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(19),c=n(9),s=n(10),r=n(65),i=n(62),o=n(66),l=n(24),d=n(2);var j=function(){return Object(d.jsx)("h1",{children:" Welcome to Shelly's React Application"})};var u=function(){return Object(d.jsx)("h1",{children:" I am About page"})},b=n(67),h=n(63),m=function(e){return document.getElementById(e).value};var f=function(e){var t=e.text,n=e.btn,a=e.clickHandler;return Object(d.jsx)(i.a,{className:"mt-3 col-6",children:Object(d.jsxs)(b.a,{noValidate:!0,children:[Object(d.jsx)("h1",{children:t}),Object(d.jsx)("h5",{children:"You can open new account for free!"}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicFirstName",children:[Object(d.jsx)(b.a.Label,{children:"First Name"}),Object(d.jsx)(b.a.Control,{type:"name",placeholder:"First name"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicLastName",children:[Object(d.jsx)(b.a.Label,{children:"Last Name"}),Object(d.jsx)(b.a.Control,{type:"name",placeholder:"Last name"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(b.a.Label,{children:"Email"}),Object(d.jsx)(b.a.Control,{type:"email",placeholder:"Enter Email"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(b.a.Label,{children:"Password"}),Object(d.jsx)(b.a.Control,{type:"password",placeholder:"Create Password"})]}),Object(d.jsx)(h.a,{variant:"dark",type:"submit",onClick:function(e){e.preventDefault();var t,n=function(e,t,n){var a="",c={email:m(e),password:m(t),name:m(n)};(!c.password||c.password.length<6)&&(a="*Password must have at least 6 characters  *"),c.email&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c.email)||(a+="Must enter a valid email adress   *");return(!c.name||c.name.length<2)&&(a+="User name must be at least 2 characters"),a||c}("formBasicEmail","formBasicPassword","formBasicFirstName");"string"==typeof n?(t=n,Object(s.b)(t)):(a(n),window.location.href="http://localhost:3001/sign-in")},children:n})]})})},O="http://localhost:3000";function p(e,t){var n=g(e);fetch("http://localhost:3000/api/users",n).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return t(e)}))}function x(e,t){if(e){fetch("http://localhost:3000/api/users/me",{headers:{"x-auth-token":e}}).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return t(e)}))}}function g(e){return{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}}var v=function(){return Object(d.jsx)(i.a,{children:Object(d.jsx)(f,{text:"Create Account",clickHandler:function(e){p(e,(function(e){e._id?Object(s.b)("Account Created Successfully"):Object(s.b)("Eror Acount was not created")}))},btn:"Sign Me Up"})})};var y=function(e){var t=e.clickHandler;return Object(d.jsxs)(b.a,{className:"mb-3 mt-3",children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:" Create a Business Card"})}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicBusinessName",children:[Object(d.jsx)(b.a.Label,{children:"Business Name"}),Object(d.jsx)(b.a.Control,{type:"text"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicBusinessDescription",children:[Object(d.jsx)(b.a.Label,{children:"Business Description"}),Object(d.jsx)(b.a.Control,{type:"text"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicBusinessAddress",children:[Object(d.jsx)(b.a.Label,{children:"Business Address"}),Object(d.jsx)(b.a.Control,{type:"text"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicBusinessPhone",children:[Object(d.jsx)(b.a.Label,{children:"Business Phone"}),Object(d.jsx)(b.a.Control,{type:"text"})]}),Object(d.jsx)(h.a,{variant:"success",type:"submit",onClick:function(e){e.preventDefault();var n,a=function(e,t,n,a){var c="",s={bizName:document.getElementById(e).value,bizDescription:document.getElementById(t).value,bizAddress:document.getElementById(n).value,bizPhone:document.getElementById(a).value};return(!s.bizName||s.bizName.length<2)&&(c="*Please provide business name with at least 2 characters  "),(!s.bizDescription||s.bizDescription.length<1)&&(c="*Your business Description is empty. Help us know about your business  "),(!s.bizAddress||s.bizAddress.length<1)&&(c="*Please provide your business a location adress  "),/^0(5[^7]|[2-4]|[8-9]|7[0-9])[0-9]{7}$/.test(s.bizPhone)||(c+="*Please enter a valid phone number  "),c||s}("formBasicBusinessName","formBasicBusinessDescription","formBasicBusinessAddress","formBasicBusinessPhone");"string"==typeof a?(n=a,Object(s.b)(n)):t(a)},children:"Create Card"})]})},k=n(1);var B=function(e){e.clickHandler;var t=Object(k.useState)(!0),n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(d.jsxs)(i.a,{children:[a&&Object(d.jsx)(f,{text:"Business Registration",clickHandler:function(e){p(e,(function(e){e._id?(Object(s.b)("You have registered successfully"),r(!1)):Object(s.b)("Eror Acount was not created, try again")}))},btn:"Register"}),!a&&Object(d.jsx)(y,{clickHandler:function(){console.log("Card Created!")}})]})},w=n(64),C=n(39),I=n(68),N=n(40);var E=function(e){var t=e.card,n=e.handleClick;return t&&Object(d.jsxs)(I.a,{style:{width:"18rem",display:"inline-block",paddingLeft:20,paddingTop:10,margin:10,marginTop:20},children:[Object(d.jsx)(I.a.Img,{variant:"top",style:{width:80},src:t.bizImage}),Object(d.jsxs)(I.a.Body,{children:[Object(d.jsx)(I.a.Title,{style:{fontWeight:"bold"},children:t.bizName}),Object(d.jsx)(I.a.Text,{children:t.bizDescription}),Object(d.jsx)(I.a.Text,{children:t.bizAddress}),Object(d.jsx)(I.a.Text,{children:t.bizPhone}),Object(d.jsx)(h.a,{style:{fontSize:22,color:"white",backgroundColor:"none",padding:4},variant:"link",onClick:function(e){e.preventDefault(),Object(s.b)("The card has been removed!"),n(t._id)},children:Object(d.jsx)(N.a,{class:"removeCardIcon"})})]})]})||Object(d.jsx)(d.Fragment,{})};var L=function(e){e.handleClick;var t=Object(k.useState)([]),n=Object(c.a)(t,2),a=n[0],s=n[1];return Object(k.useEffect)((function(){var e,t;localStorage.getItem("token")&&(e=localStorage.getItem("token"),t=function(e){s(e)},fetch("http://localhost:3000/api/users/mecards",{headers:{"x-auth-token":e}}).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(e){return t(e)})))}),[]),a.map((function(e){return Object(d.jsx)(E,{handleClick:function(e){var t,n,c;t=e,n=localStorage.getItem("token"),c=function(t){s(a.filter((function(t){return t._id!=e})))},fetch(O+"/api/cards/"+t,{method:"DELETE",headers:{"x-auth-token":n}}).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return c(e)}))},card:e})}))};var S=function(){var e=Object(k.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(w.a,{className:"justify-content-md-center mt-3",children:Object(d.jsx)(C.a,{md:"auto",children:Object(d.jsx)(h.a,{variant:"outline-light",onClick:function(){a(!0)},children:"Create New Card"})})}),Object(d.jsxs)("div",{children:[!n&&Object(d.jsx)(L,{}),n&&Object(d.jsx)(y,{clickHandler:function(e){!function(e,t,n){var a=g(e);a.headers["x-auth-token"]=t,fetch("http://localhost:3000/api/cards",a).then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return n(e)}))}(e,localStorage.getItem("token"),(function(){a(!1)}))}})]})]})})},z=function(e){return document.getElementById(e).value};var A=function(e){var t=e.clickHandler;return Object(d.jsx)(i.a,{className:"mt-3 col-6",children:Object(d.jsxs)(b.a,{children:[Object(d.jsx)("h2",{children:"Sign In"}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(d.jsx)(b.a.Label,{children:"Email"}),Object(d.jsx)(b.a.Control,{type:"email",placeholder:"Enter email adress",defaultValue:"shelly@gmail.com"})]}),Object(d.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(d.jsx)(b.a.Label,{children:"Password"}),Object(d.jsx)(b.a.Control,{type:"password",placeholder:"Enter password",defaultValue:"123456"})]}),Object(d.jsx)(h.a,{variant:"light",type:"submit",onClick:function(e){e.preventDefault();var n=function(e,t){var n="",a={email:z(e),password:z(t)};(!a.password||a.password.length<6)&&(n="*Password must be at least 6 characters  *"),a.email?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a.email)||(n+="Must be a valid email adress   *"):n+="Must be a valid email adress  *";return n||a}("formBasicEmail","formBasicPassword");"string"==typeof n?Object(s.b)(n):t({email:document.getElementById("formBasicEmail").value,password:document.getElementById("formBasicPassword").value})},children:"Sign in"})]})})};var P=function(e){var t=e.set;return Object(d.jsx)(i.a,{children:Object(d.jsx)(A,{clickHandler:function(e){!function(e,t){var n=g(e);fetch("http://localhost:3000/api/auth",n).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){t(e)}))}(e,(function(e){e.token?(Object(s.b)("Welcome Back!"),localStorage.setItem("token",e.token),x(e.token,(function(e){t(e),window.location.href="http://localhost:3001/my-cards"}))):Object(s.b)("Fail to log in")}))}})})},F=n(22),D=[{name:"Home",href:"/home",page:j,displayForLoggedin:!0,icon:Object(d.jsx)(F.b,{})},{name:"About",href:"/about",page:u,displayForLoggedin:!0,icon:Object(d.jsx)(F.c,{})},{name:"Simple Registration",href:"/simple-registration",page:v,displayForLoggedin:!1},{name:"Business Registration",href:"/business-registration",page:B,displayForLoggedin:!1},{name:"My Cards",href:"/my-cards",page:S,displayForLoggedin:!0,hideForLoggedOut:!0},{name:"Sign In",href:"/sign-in",page:P,displayForLoggedin:!1}];var H=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(h.a,{variant:"dark",onClick:function(){localStorage.removeItem("token"),window.location.href="http://localhost:3001/sign-in"},children:["Log Out",Object(d.jsx)(F.d,{class:"logOutIcon"})]})})};var T=function(e){var t=e.user;return Object(d.jsx)(r.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(r.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsxs)(r.a.Collapse,{id:"responsive-navbar-nav",children:[Object(d.jsx)(o.a,{className:"me-auto",children:t._id?D.filter((function(e){return e.displayForLoggedin})).map((function(e,t){return Object(d.jsxs)(o.a.Link,{to:e.href,as:l.b,children:[e.icon," ",e.name]},t)})):D.filter((function(e){return!e.hideForLoggedOut})).map((function(e,t){return Object(d.jsxs)(o.a.Link,{to:e.href,as:l.b,children:[e.icon," ",e.name]},t)}))}),t._id&&Object(d.jsx)(H,{})]})]})})},G=n(8);var _=function(e){var t=e.set,n=e.user;return Object(d.jsx)(G.c,{children:D.map((function(e,a){return Object(d.jsx)(G.a,{path:e.href,children:Object(d.jsx)(e.page,{set:t,user:n})},a)}))})};var M=function(e){var t=e.set,n=e.user;return Object(d.jsx)("div",{children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(T,{user:n}),Object(d.jsx)(_,{set:t,user:n})]})})},R=n(32),Z=n(46);var J=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("footer",{children:[Object(d.jsxs)("div",{class:"social",children:[Object(d.jsx)("a",{href:"http://www.linkedin.com/in/shellysh/",target:"_blank",children:Object(d.jsx)(R.b,{class:"in"})}),Object(d.jsx)("a",{href:"http://www.facebook.com/shelly.shamay",target:"_blank",children:Object(d.jsx)(R.a,{class:"fb"})}),Object(d.jsx)("a",{href:"mailto:shellyshamay@gmail.com",target:"_blank",children:Object(d.jsx)(Z.a,{class:"ml"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(F.a,{class:"copyright"}),"Shelly Shamay 2021-2022"]})]})})};n(37),n(58);var V=function(){var e=Object(k.useState)({}),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(k.useEffect)((function(){x(localStorage.getItem("token"),(function(e){a(e)}))}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(d.Fragment,{children:[n&&n.id,Object(d.jsx)(M,{set:a,user:n}),Object(d.jsx)(s.a,{}),Object(d.jsx)(J,{})]})})};n(59);Object(a.render)(Object(d.jsx)(V,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.03910d58.chunk.js.map